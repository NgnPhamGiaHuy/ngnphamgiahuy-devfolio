/* ============================================================
   File: sidebar.css
   Purpose: Sidebar navigation component with animations and accessibility
   Components: Sidebar, NavItem, MenuToggle
   ============================================================ */

@layer components {
    /* ============================================================
       Sidebar Component
       ============================================================ */

    /**
     * Sidebar main container
     * - Fixed positioning with full height
     * - Responsive width (full on mobile, 512px on desktop)
     * - Theme-aware background with pseudo-element
     * - Smooth transition for all properties
     * - High z-index for proper layering
     */
    .sidebar {
        @apply max-md:w-full w-[512px] h-screen top-0 fixed before:bg-white dark:before:bg-[#31363c] z-2;
        transition: all 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
    }

    /**
     * Sidebar background pseudo-element
     * - Full width and height coverage
     * - Skew transform for visual effect
     * - Smooth transition for transform changes
     * - Positioned absolutely within sidebar
     */
    .sidebar::before {
        @apply content-[""] w-full h-full top-0 left-0 transform skew-y-0 absolute;
        transition: transform 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
    }

    /* ============================================================
       Sidebar Visibility States
       ============================================================ */

    /**
     * Sidebar visible state
     * - Positioned at right edge of screen
     * - Full opacity and visibility
     * - Pointer events enabled for interaction
     * - No skew transform for flat appearance
     */
    .sidebar-visible {
        @apply right-0 opacity-100 visible pointer-events-auto;
    }

    .sidebar-visible::before {
        @apply skew-x-0;
    }

    /**
     * Sidebar hidden state
     * - Positioned off-screen to the right
     * - Zero opacity and hidden visibility
     * - Pointer events disabled
     * - Skew transform for visual effect
     */
    .sidebar-hidden {
        @apply -right-[612px] opacity-0 invisible pointer-events-none;
    }

    .sidebar-hidden::before {
        @apply skew-x-10;
    }

    /* ============================================================
       Sidebar Content Layout
       ============================================================ */

    /**
     * Sidebar content container
     * - Full width and height coverage
     * - Centered content with overflow scroll
     * - Higher z-index than background
     * - Absolute positioning for proper layering
     */
    .sidebar-content {
        @apply w-full h-full top-0 left-0 flex items-center overflow-auto absolute z-3;
    }

    /**
     * Sidebar container inner
     * - Responsive max-widths for different screen sizes
     * - Consistent padding and centering
     * - Relative positioning for child elements
     */
    .sidebar-container-inner {
        @apply xl:max-w-[1140px] lg:max-w-[960px] md:max-w-[720px] sm:max-w-[540px] w-full px-3 m-auto relative;
    }

    /**
     * Sidebar row container
     * - Negative margins for proper spacing
     * - Flex wrap for responsive layout
     * - Allows child elements to use full width
     */
    .sidebar-row {
        @apply -mx-3 flex flex-wrap;
    }

    /**
     * Sidebar column container
     * - Full width with consistent padding
     * - Flex-none for proper sizing
     * - Responsive layout support
     */
    .sidebar-column {
        @apply w-full px-3 flex-none;
    }

    /**
     * Sidebar menu container
     * - Consistent padding for content
     * - Responsive padding for different screen sizes
     * - Relative positioning for child elements
     */
    .sidebar-menu-container {
        @apply pt-[80px] pr-[60px] pb-[40px] pl-[130px] relative;
    }

    /* ============================================================
       NavItem Component
       ============================================================ */

    /**
     * NavItem main styling
     * - Consistent bottom margin for spacing
     * - Smooth transition for all properties
     * - Initial transform and opacity for animation
     * - Cubic-bezier easing for smooth animation
     */
    .nav-item {
        @apply mb-5;
        transition: all 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
        transform: translateY(8px);
        opacity: 0;
    }

    /**
     * NavItem visible state
     * - No transform offset
     * - Full opacity for visibility
     * - Smooth transition to visible state
     */
    .nav-item.opacity-100 {
        transform: translateY(0);
        opacity: 1;
    }

    /**
     * NavItem text styling
     * - Large, bold, uppercase text
     * - Uses inverse color for theme compatibility
     * - Wide tracking for readability
     * - Cursor pointer for interaction indication
     * - Smooth transition for hover effects
     */
    .nav-item-text {
        @apply text-2xl text-inverse font-bold leading-none tracking-wider align-top uppercase relative cursor-pointer;
        transition: all 0.2s ease-in-out;
    }

    /**
     * NavItem text hover state
     * - Primary color for brand consistency
     * - Horizontal translation for dynamic effect
     * - Smooth animation for better UX
     */
    .nav-item-text:hover {
        @apply text-primary;
        transform: translateX(4px);
    }

    /**
     * NavItem letter styling
     * - Smooth color transition for individual letters
     * - Used for character-by-character animations
     * - Consistent timing with other transitions
     */
    .nav-item-letter {
        @apply transition-colors duration-300 ease-in-out;
    }

    /**
     * NavItem letter hover state
     * - Primary color for brand consistency
     * - Smooth transition for individual letters
     */
    .nav-item-letter:hover {
        @apply text-primary;
    }

    /**
     * NavItem focus state
     * - Primary color for accessibility
     * - Horizontal translation for focus indication
     * - Ensures keyboard navigation visibility
     */
    .nav-item:focus-within .nav-item-text {
        @apply text-primary;
        transform: translateX(4px);
    }

    /* ============================================================
       Accessibility and Reduced Motion Support
       ============================================================ */

    /**
     * Reduced motion media query
     * - Disables all transitions for users who prefer reduced motion
     * - Ensures accessibility compliance
     * - Removes transform animations
     * - Sets opacity to 1 for immediate visibility
     */
    @media (prefers-reduced-motion: reduce) {
        .sidebar,
        .sidebar::before,
        .nav-item,
        .nav-item-text,
        .nav-item-letter {
            transition: none;
        }

        .nav-item {
            transform: none;
            opacity: 1;
        }
    }
}
